#!/usr/bin/env node
/**
 * Do all things that need to be done after installing packages (with yarn, npm, pnpm).
 *
 * Yes, it slows down package installation a little, but it's nice to not
 * have to remember these extra steps.
 */

// Run baby run
function run(command) {
  console.log(`./bin/postInstall script running: ${command}`);

  try {
    require("child_process").execSync(command, { stdio: "inherit" });
  } catch (error) {
    console.error(`./bin/postInstall failed on command:\n  ${command}`);
    process.exit(error.status);
  }
}

// Patch any packages that need patching
run("npx patch-package");
run("cd ios && RCT_NEW_ARCH_ENABLED=1 bundle exec pod install");

// just run when development -> not in ci build
// if (!process.env.CI) {
//   /// Run `pod install`, if fails run `pod repo update` and try again
// }

/// steps generate asset


// just run when development -> not in ci build
// if (!process.env.CI) {

// }
